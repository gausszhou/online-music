(function(t){function e(e){for(var a,o,l=e[0],r=e[1],c=e[2],g=0,m=[];g<l.length;g++)o=l[g],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,l=1;l<s.length;l++){var r=s[l];0!==i[r]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/online-music/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"02b0":function(t,e,s){"use strict";s("4afd")},"0b16":function(t,e,s){},"0bed":function(t,e,s){"use strict";s("8711")},"0d0e":function(t,e,s){"use strict";s("f908")},"26fc":function(t,e,s){},"3f4b":function(t,e,s){"use strict";s("6977")},"4afd":function(t,e,s){},"53fd":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("AppHeader"),e("AppBody"),e("AppFooter")],1)},n=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-header",attrs:{id:"header"}},[e("div",{staticClass:"left-box"},[e("h1",{staticClass:"app-header-logo app-header-title",on:{click:function(e){return t.goto("recommend")}}},[t._v(" Online Music ")]),e("div",{staticClass:"app-header-history"},[e("span",{staticClass:"app-header-history-icon iconfont icon-arrow-left",on:{click:function(e){return t.go(-1)}}}),e("span",{staticClass:"app-header-history-icon iconfont icon-arrow-right",on:{click:function(e){return t.go(1)}}})])]),e("div",{staticClass:"right-box"},[e("div",{staticClass:"app-header-search el-input el-input--small el-input--prefix"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.query,expression:"query",modifiers:{trim:!0}}],staticClass:"el-input__inner",attrs:{type:"text",autocomplete:"off",placeholder:"搜索"},domProps:{value:t.query},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)},input:function(e){e.target.composing||(t.query=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._m(0)]),e("el-button",{staticClass:"ml_5",attrs:{type:"default",size:"small"},on:{click:t.clearCache}},[t._v(" 清空缓存 ")])],1),t.loginDialogVisible?e("LoginDialog",{on:{change:t.loginDialogChange}}):t._e()],1)},l=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"el-input__prefix"},[e("i",{staticClass:"el-input__icon el-icon-search"})])}],r=s("a002"),c=s.n(r);c.a.config({name:"Music App"});var u=c.a,g=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:"登录网易云",visible:t.visible,width:"450px","append-to-body":""},on:{"update:visible":function(e){t.visible=e},close:t.handleClose}},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",inline:!1,size:"normal"}},[e("el-form-item",{attrs:{label:"手机号"}},[e("el-input",{attrs:{type:"text",autocomplete:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),e("el-form-item",{attrs:{label:"密码"}},[e("el-input",{attrs:{type:"password",autocomplete:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitOK.apply(null,arguments)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitOK}},[t._v("登录")]),e("el-button",{attrs:{size:"small"},on:{click:t.handleClose}},[t._v("取消")])],1)],1)},m=[],d={name:"loginDialog",data(){return{visible:!0,form:{phone:"",password:""}}},methods:{submitOK(){let t=this.form;this.$http.login(t).then(t=>{this.$message({message:"登录成功",type:"success"}),this.handleClose(),this.$router.go(0)}).catch(t=>{this.$message({message:"登录失败",type:"error"})})},handleClose(){this.visible=!1,this.$emit("change")}}},p=d,h=s("2877"),v=Object(h["a"])(p,g,m,!1,null,null,null),b=v.exports,f={name:"AppHeader",components:{LoginDialog:b},data(){return{query:"",loginDialogVisible:!1}},methods:{clearCache(){u.clear()},openLoginDialog(){this.loginDialogVisible=!0},loginDialogChange(){this.loginDialogVisible=!1},search(){this.query!=this.$route.query.keywords&&(this.$store.commit("setQuery",this.query),this.$router.push({name:"search",query:{keywords:this.query}}))},goto(t){this.$router.replace({name:t})},go(t){this.$router.go(t)}}},y=f,C=Object(h["a"])(y,o,l,!1,null,null,null),_=C.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-body"},[e("AppNav",{staticClass:"app-nav"}),e("div",{staticClass:"app-main"},[e("router-view")],1)],1)},w=[],S=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"app-nav"},[e("li",{staticClass:"app-nav-item"},[e("router-link",{staticClass:"app-nav-item-link",class:{active:t.$route.path.startsWith("/music")},attrs:{to:{name:"recommend"}}},[t._v("发现音乐")])],1),e("li",{staticClass:"app-nav-item"},[e("router-link",{staticClass:"app-nav-item-link",class:{active:t.$route.path.startsWith("/singer")},attrs:{to:{name:"singer"}}},[t._v("发现歌手")])],1),e("li",{staticClass:"app-nav-item"},[e("router-link",{staticClass:"app-nav-item-link",class:{active:t.$route.path.startsWith("/mv")},attrs:{to:{name:"newMV"}}},[t._v("发现 MV")])],1)])},k=[],x={name:"AppNav"},T=x,M=Object(h["a"])(T,S,k,!1,null,null,null),V=M.exports,$={name:"AppBody",components:{AppNav:V}},P=$,A=Object(h["a"])(P,L,w,!1,null,null,null),I=A.exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-footer",attrs:{id:"footer"}},[e("SongAudioLeft"),e("SongAudio"),e("SongAudioRight"),e("transition",{attrs:{name:"drawer-left"}},[t.songDrawerVisible?e("SongDrawer",{key:"drawer"}):t._e()],1),e("transition",{attrs:{name:"fade"}},[t.songLyricVisible?e("SongLyricFloat",{key:"lyric"}):t._e()],1),e("transition",{attrs:{name:""}},[t.songListVisible?e("SongPlayList",{key:"list"}):t._e()],1)],1)},O=[],j=s("2f62"),U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"song-control",class:{nosongs:0==this.songList.length,single:1==this.songList.length}},[e("div",{staticClass:"switch-control"},[e("span",{staticClass:"control-button-text"},[t._v(" "+t._s(t.songModeList[t.songMode].label)+" ")]),e("i",{staticClass:"control-button iconfont",class:t.songModeList[t.songMode].class,on:{click:function(e){return t.toggleSongMode()}}}),e("i",{staticClass:"control-button iconfont icon-pre",class:{disable:1===t.songMode||0===t.songList.length},on:{click:function(e){return t.prevSong()}}}),e("i",{staticClass:"control-button iconfont button-toggle",class:{"icon-pause":t.songIsPlay,"icon-play":!t.songIsPlay,disable:!t.song.audioUrl},on:{click:function(e){return t.toggleSongPlay()}}}),e("i",{staticClass:"control-button iconfont icon-next",class:{disable:1===t.songMode||0===t.songList.length},on:{click:function(e){return t.nextSong()}}}),e("i",{staticClass:"control-button control-button-text",class:{disable:0===t.songList.length||0===t.songLyricList.length},on:{click:function(e){return t.toggleLyricFloat()}}},[t._v("浮动歌词 ")])]),e("div",{staticClass:"song-progress"},[e("span",{staticClass:"time"},[t._v(t._s(t._f("stotime")(t.songCurrentTime)))]),e("el-slider",{ref:"progress",staticClass:"control-progress",attrs:{min:0,max:100,"show-tooltip":!1},on:{change:function(e){return t.onAudioSliderChange(t.percent)}},model:{value:t.percent,callback:function(e){t.percent=e},expression:"percent"}}),e("span",{staticClass:"time"},[t._v(t._s(t._f("stotime")(t.songTotalTime)))])],1)])},z=[];const N=[{mode:0,class:"icon-mode-loop",label:"列表循环"},{mode:1,class:"icon-mode-single",label:"单曲循环"},{mode:2,class:"icon-mode-order",label:"顺序播放"},{mode:3,class:"icon-mode-random",label:"随机播放"}];var q={query:""},E={setQuery(t,e){t.query=e}},F={};const B={namespaced:!0,state:()=>({songDrawerVisible:!1,songLyricVisible:!1,songListVisible:!1}),mutations:{setSongDrawerVisible(t,e){t.songDrawerVisible=e},setSongLyricVisible(t,e){t.songLyricVisible=e},setSongListVisible(t,e){t.songListVisible=e}},actions:{}};var R=B;const J={};function H(t){let e=t.musicId||t.id,s=t.name||"",a=t.author&&[t.author]||t.ar,i=t.albumName||t.albumname||t.al&&t.al.name||"",n=t.picUrl||"",o="",l="",r="",c=t.lyricList||[],u={musicId:e,name:s,author:a,albumName:i,picUrl:n,audioUrl:o,audioUrlOrigin:l,audioUrlProxy:r,lyricList:c};return u}function Q(t){let e=t.split("\n"),s=/^\[.*]/,a=e.map(t=>{let e=t.match(s)&&t.match(s)[0]&&t.match(s)[0].slice(1,-1)||null;if(e){let a=e.split(":");return e=60*parseInt(a[0])+parseInt(a[1]),{time:e,word:t.split(s)[1]}}return{time:9999,word:""}});const i=a.filter(t=>""!=t.word);return i}var K=J,G=s("323e"),W=s.n(G),X=s("bc3a"),Y=s.n(X);const Z=Y.a.create({timeout:1e4,headers:{"Content-Type":"application/json"}});function tt(t){if(!t||"[object Object]"!=Object.prototype.toString.call(t))return"";let e="?",s=Object.keys(t);return s.forEach(s=>{"[object Object]"===Object.prototype.toString.call(t[s])||"[object Array]"===Object.prototype.toString.call(t[s])?e+=s+"="+JSON.stringify(t[s])+"&":e+=s+"="+t[s]+"&"}),e.substr(0,e.length-1)}async function et(t){let e=await u.getItem(t);return e?new Promise((t,s)=>{t({data:e})}):Z.get(t)}Z.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),Z.interceptors.response.use((async function(t){return await u.setItem(t.config.url,t.data),t}),(function(t){return Promise.reject(t)}));const st="//netease-cloud-music-api-ochre-iota-32.vercel.app",at={login:t=>et(st+"/login/cellphone"+tt(t)),getSongUrl:t=>et(st+"/song/url"+tt(t)),getSongDetail:t=>et(st+"/song/detail"+tt(t)),getMVUrl:t=>et(st+"/mv/url"+tt(t)),getMVDetail:t=>et(st+"/mv/detail"+tt(t)),getLyric:t=>et(st+"/lyric"+tt(t)),getSearch:t=>et(st+"/search"+tt(t)),getBanner:t=>et(st+"/banner"+tt(t)),getPersonalized:t=>et(st+"/personalized"+tt(t)),getPrivatecontent:t=>et(st+"/personalized/privatecontent"+tt(t)),getNewSong:t=>et(st+"/personalized/newsong"+tt(t)),getNewMV:t=>et(st+"/personalized/mv"+tt(t)),getTopPlayListDetail:t=>et(st+"/top/playlist/highquality"+tt(t)),getTopPlayList:t=>et(st+"/top/playlist"+tt(t)),getDJBanner:t=>et(st+"/dj/banner"+tt(t)),getDJRecommend:t=>et(st+"/dj/personalize/recommend"+tt(t)),getTopList:t=>et(st+"/toplist"+tt(t)),getArtistList:t=>et(st+"/artist/list"+tt(t)),getTopSong:t=>et(st+"/top/song"+tt(t)),getMVFirst:t=>et(st+"/mv/first"+tt(t)),getMVAll:t=>et(st+"/mv/all"+tt(t)),getSimiMV:t=>et(st+"/simi/mv"+tt(t)),getCommentMV:t=>et(st+"/comment/mv"+tt(t)),getPlayListDetail:t=>et(st+"/playlist/detail"+tt(t)),getCommentPlayList:t=>et(st+"/comment/playlist"+tt(t)),getCommentHot:t=>et(st+"/comment/hot"+tt(t)),getCommentByMusic:t=>et(st+"/comment/music"+tt(t)),getArtistDesc:t=>et(st+"/artist/desc"+tt(t)),getArtistTopSong:t=>et(st+"/artist/top/song"+tt(t)),getArtistMV:t=>et(st+"/artist/mv"+tt(t)),getArtistDetail:t=>et(st+"/artist/detail"+tt(t))};var it=at;let nt={};const ot="netease",lt=!1;nt.get=t=>{let e=localStorage.getItem(`${ot}-${t}`),s=null;return"string"==typeof e&&(s=JSON.parse(e)),s},nt.set=(t,e)=>{let s=JSON.stringify(e);return lt&&console.log("local.set",t,e),localStorage.setItem(`${ot}-${t}`,s)},nt.remove=t=>(lt&&console.log("local.remove",t),localStorage.removeItem(`${ot}-${t}`)),nt.clear=()=>(lt&&console.log("locals.clear"),localStorage.clear(key));var rt=nt;W.a.configure({showSpinner:!1,parent:"#footer"});const ct="//api.gausszhou.top/_proxy/",ut={namespaced:!0,state:()=>({songList:rt.get("songList")||[],songIndex:rt.get("songIndex")||0,song:rt.get("song")||{},songLyricList:rt.get("songLyricList")||[],songVolume:rt.get("songVolume")||50,songMode:rt.get("songMode")||0,songIsPlay:!1,songCurrentTime:0,songTotalTime:0,songCurrentPercent:0,songLoadedPercent:0}),mutations:{setSongList(t,e){t.songList=e,rt.set("songList",e)},setSongIndex(t,e){t.songIndex=e,rt.set("songIndex",e)},setSongIndexActive(t){},setSong(t,e){t.song=e,e.audioUrl&&(vt.setAudioSrc(e.audioUrl),rt.set("song",e))},setSongMode(t,e){t.songMode=e,vt.setMode(e),rt.set("songMode",e)},setSongVolume(t,e){t.songVolume=e,vt.setVolume(e),rt.set("songVolume",e)},setSongIsPlay(t,e){t.songIsPlay=e,e?vt.play():vt.pause()},setSongTargetTime(t,e){vt.setTargetTime(e)},setSongCurrentTime(t,e){t.songCurrentTime=e},setSongTotalTime(t,e){t.songTotalTime=e},setSongCurrentPercent(t,e){t.songCurrentPercent=e},setSongLoadedPercent(t,e){t.songLoadedPercent=e},setSongLyricList(t,e){t.songLyricList=e,rt.set("songLyricList",e)},addListToSongList(t,e){if(e.constructor!=Array)return;let s=e.map(t=>H(t)),a=JSON.parse(JSON.stringify(t.songList));a.unshift(...s);let i={};a=a.filter(t=>1!=i[t.musicId]&&(i[t.musicId]=!0,!0)),t.songList=a,t.songIndex=0,this.commit("song/setSongIndex",0),this.dispatch("song/getMusic",a[0])}},actions:{setSongIndex(t,e){const s=t.state.songList,a=t.state.songIndex,i=s.length;if(i>1){const n=(a+i+e)%i;t.state.songCurrentTime=0,t.state.songIndex=n;const o=s[n];t.dispatch("getMusic",o)}},switchSong(t,e,s){let a=0;const i=t.state.songMode;switch(i){case 0:a=e,t.dispatch("setSongIndex",a);break;case 1:s?(t.commit("song/setSongIsPlay",!1),setTimeout(()=>{t.commit("song/setSongIsPlay",!0)})):setTimeout(()=>{this.onAudioSliderChange(0)});break;case 2:const i=t.state.songList.length-1;if(t.state.song.songIndex==i&&s)return void t.commit("setSongIndex",-1);a=1,t.dispatch("setSongIndex",a);break;case 3:const n=t.state.songList.length;a=Math.floor(Math.random()*n),t.dispatch("setSongIndex",a);break;default:break}},async getMusic(t,e){let s=H(e);const{musicId:a}=s;t.commit("setSong",s),t.commit("setSongLyricList",[]),console.log("[ajax ] 歌曲请求中"),W.a.start();const i=await it.getSongUrl({id:a});if(i.data.data&&i.data.data[0].url){let t=i.data.data[0].url;t=t.replace(/https?:/,location.protocol),s.audioUrlOrigin=t,s.audioUrlProxy=location.protocol+ct+t,s.audioUrl=s.audioUrlOrigin,console.log("[ajax ] 歌曲请求完成")}else console.error("[ajax ] 歌曲请求失败");if(W.a.done(),t.commit("setSong",s),setTimeout(()=>{t.commit("setSongIsPlay",!1),setTimeout(()=>{t.commit("setSongIsPlay",!0)},0)},0),!s.picUrl||!s.albumName){W.a.start();const e=await it.getSongDetail({ids:a});e.data.songs&&e.data.songs[0]&&(s.albumName=e.data.songs[0].al.name,s.picUrl=e.data.songs[0].al.picUrl,s.author=e.data.songs[0].ar),W.a.done(),t.commit("setSong",s)}if(!s.lyricList.length){console.log("[ajax ] 歌词请求中"),W.a.start();const e=await it.getLyric({id:a}),i=e.data.lrc.lyric;s.lyricList=Q(i),W.a.done(),console.log("[ajax ] 歌词请求完成"),t.commit("setSong",s),t.commit("setSongLyricList",s.lyricList)}let n=[];try{n=JSON.parse(JSON.stringify(t.state.songList))}catch(l){console.log(l)}let o=!0;n.forEach((e,a)=>{e.musicId==s.musicId&&(o=!1,t.commit("setSongIndex",a),t.commit("setSongCurrentTime",0))}),o&&(n.unshift(s),t.commit("setSongIndex",0),t.commit("setSongCurrentTime",0)),t.commit("setSongList",n),console.log("[ajax ] 列表更新完成")}}};var gt=ut;a["default"].use(j["a"]);const mt=new j["a"].Store({namespaced:!0,state:q,mutations:E,actions:F,modules:{ui:R,song:gt}});var dt=mt;class pt{constructor(){this.audioEL=new Audio,this.crossOrign="anonymous",this.volume=50,this.songMode=0,this.src="",this.playing=!1,this.loadedPercent=0,this.currentTime=0,this.totalTime=0,this.currentPercent=0,this.restore(),this.init()}init(){this.audioEL.src=this.src,this.audioEL.volume=this.volume/100,this.initEventListener()}initEventListener(){this.audioEL.addEventListener("canplay",t=>{this._onCanplay(t)}),this.audioEL.addEventListener("progress",t=>{this._onProgress(t)}),this.audioEL.addEventListener("timeupdate",t=>{this._onTimeUpdate(t)}),this.audioEL.addEventListener("ended",t=>{this._onEnded(t)}),this.audioEL.addEventListener("error",t=>{this._onError(t)}),console.log("[audio] 初始化事件绑定完成")}restore(){setTimeout(()=>{let t=rt.get("song");t&&t.audioUrl&&(dt.commit("song/setSong",t),console.log("[info] 恢复歌曲配置"))})}play(){this.src&&(this.audioEL.play(),console.log("[audio] 播放"),this.playing=!0)}pause(){this.src&&(this.audioEL.pause(),console.log("[audio] 暂停"),this.playing=!1)}setAudioSrc(t){this.src!==t&&(console.log("[audio] 切换了歌曲",t),this.src=t,this.audioEL.src=t)}setMode(t){this.songMode=t,console.log("[audio] 切换了模式",t)}setVolume(t){this.volume=t,this.audioEL.volume=this.volume/100}setTargetTime(t){this.audioEL.currentTime=t}_onCanplay(t){const e=t.target.duration;this.totalTime=e,dt.commit("song/setSongIndexActive"),dt.commit("song/setSongTotalTime",this.totalTime),console.log("[audio] 歌曲可以播放")}_onProgress(t){this.caclLoadProgress(t.target),dt.commit("song/setSongLoadedPercent",this.loadedPercent),console.log("[audio] 资源加载更新",this.loadedPercent,"%")}_onTimeUpdate(t){const e=this.audioEL.currentTime;this.currentTime=e,this.currentPercent=100*this.currentTime/this.totalTime,this.caclLoadProgress(t.target),dt.commit("song/setSongCurrentTime",this.currentTime),dt.commit("song/setSongCurrentPercent",this.currentPercent),dt.commit("song/setSongLoadedPercent",this.loadedPercent)}_onEnded(){dt.dispatch("song/switchSong",1,!0),console.log("[audio] 切换到下一首")}_onError(t){this.playing=!1,dt.commit("song/setSongIsPlay",!1),console.log("[audio] 歌曲加载失败",t)}caclLoadProgress(t){const e=t.buffered;if(e.length){const e=t.buffered.end(0);this.loadedPercent=Math.ceil(e/this.totalTime*100),this.loadedPercent==1/0&&(this.loadedPercent=0)}}}const ht=new pt;var vt=ht,bt={data(){return{songModeList:N,percent:0}},computed:{...Object(j["b"])("song",{songList:t=>t.songList,song:t=>t.song,songIsPlay:t=>t.songIsPlay,songMode:t=>t.songMode,songCurrentTime:t=>t.songCurrentTime,songTotalTime:t=>t.songTotalTime,songCurrentPercent:t=>t.songCurrentPercent,songLoadedPercent:t=>t.songLoadedPercent,songLyricList:t=>t.songLyricList}),...Object(j["b"])("ui",{songLyricVisible:t=>t.songLyricVisible})},watch:{songCurrentPercent(t){this.percent=t},songLoadedPercent(){this.drawCallProgress()}},mounted(){this.drawCallProgress()},methods:{drawCallProgress(){this.$refs.progress.$el.style.setProperty("--progress",this.songLoadedPercent+"%")},toggleSongMode(){const t=this.songMode+1,e=this.songModeList.length,s=t%e;this.$store.commit("song/setSongMode",s)},prevSong(){this.$store.dispatch("song/switchSong",-1,!1)},toggleSongPlay(){this.song.audioUrl&&this.$store.commit("song/setSongIsPlay",!this.songIsPlay)},nextSong(){this.$store.dispatch("song/switchSong",1,!1)},toggleLyricFloat(){this.song.audioUrl&&0!==this.songLyricList.length&&this.$store.commit("ui/setSongLyricVisible",!this.songLyricVisible)},onAudioSliderChange(t){let e=Math.floor(t/100*this.songTotalTime);this.$store.commit("song/setSongTargetTime",e)}}},ft=bt,yt=Object(h["a"])(ft,U,z,!1,null,null,null),Ct=yt.exports,_t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"song-info"},[e("div",{staticClass:"img-box",class:{show:t.song.picUrl,open:t.songDrawerVisible},on:{click:function(e){return t.toggleSongDrawer()}}},[e("i",{staticClass:"arrow iconfont icon-arrow-right-top"}),e("img",{staticClass:"img",class:{running:t.songIsPlay&&!t.songDrawerVisible},attrs:{src:t.song.picUrl}})]),e("div",{staticClass:"name-box"},[e("div",{staticClass:"text-over-elli song-name"},[t._v(t._s(t.song.name))]),e("div",t._l(t.song.author,(function(s,a){return e("span",{key:a,staticClass:"text-over-elli song-author"},[t._v(t._s(s.name)+"  ")])})),0)])])},Lt=[],wt={computed:{...Object(j["b"])("song",{songList:t=>t.songList,song:t=>t.song,songIsPlay:t=>t.songIsPlay}),...Object(j["b"])("ui",{songDrawerVisible:t=>t.songDrawerVisible})},methods:{toggleSongDrawer(){this.$store.commit("ui/setSongDrawerVisible",!this.songDrawerVisible)}}},St=wt,kt=Object(h["a"])(St,_t,Lt,!1,null,"40e2abbe",null),xt=kt.exports,Tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list-control display-flex"},[e("div",{staticClass:"flex-1"}),e("i",{staticClass:"button-volume iconfont icon-volume"}),e("el-slider",{staticClass:"slider-volume",attrs:{min:0,max:100,"show-tooltip":!0},on:{input:function(e){return t.onVolumeSliderChange(t.volume)}},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}}),e("i",{staticClass:"button-menu iconfont icon-menu",class:{active:t.songListVisible},on:{click:t.toggleSongListVisible}})],1)},Mt=[],Vt={data(){return{volume:50}},computed:{...Object(j["b"])("song",{songVolume:t=>t.songVolume}),...Object(j["b"])("ui",{songListVisible:t=>t.songListVisible})},mounted(){this.volume=this.songVolume},methods:{onVolumeSliderChange(t){this.$store.commit("song/setSongVolume",t)},toggleSongListVisible(){this.$store.commit("ui/setSongListVisible",!this.songListVisible)}}},$t=Vt,Pt=Object(h["a"])($t,Tt,Mt,!1,null,"992c1184",null),At=Pt.exports,It=function(){var t=this,e=t._self._c;return e("div",{staticClass:"song-drawer"},[e("div",{staticClass:"song-drawer-container",class:{"has-menu":t.songListVisible}},[e("div",{staticClass:"song-drawer-body"},[e("div",{staticClass:"song-disc"},[e("SongDisc")],1),e("div",{staticClass:"song-lyric"},[e("SongLyricScroll")],1)]),e("div",{staticClass:"song-drawer-footer"},[e("Comments",{attrs:{title:"最新评论",commentsTotal:t.commentsTotal,comments:t.comments}})],1)])])},Dt=[],Ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"song-player",class:{playing:t.songIsPlay}},[e("img",{staticClass:"player-bar",attrs:{src:t.bar}}),e("img",{staticClass:"player-disc rotate",attrs:{src:t.disc}}),e("img",{staticClass:"player-cover rotate",attrs:{src:t.song.picUrl}})])},jt=[],Ut={data(){return{bar:s("b819"),disc:s("6743")}},computed:{...Object(j["b"])("song",{song:t=>t.song,songIsPlay:t=>t.songIsPlay})}},zt=Ut,Nt=(s("85b1"),Object(h["a"])(zt,Ot,jt,!1,null,"814de9d8",null)),qt=Nt.exports,Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lyric-container"},[e("ul",{ref:"lyricList",staticClass:"lyric-scroll",on:{scroll:t.onLyricScroll}},t._l(t.songLyricList,(function(s,a){return e("li",{key:a,ref:"lyric",refInFor:!0,staticClass:"lyric-scroll-item text-over-elli",class:{active:a==t.songLyricIndex}},[t._v(" "+t._s(s.word)+" ")])})),0),t.songLyricList.length>2?e("div",{ref:"pointer",staticClass:"lyric-pointer"},[e("div",{staticClass:"pointer-time"},[t._v(t._s(t._f("stotime")(t.scrollTime)))]),e("div",{staticClass:"pointer-bar"}),e("div",{staticClass:"pointer-arrow",on:{click:t.changeProgress}})]):t._e(),e("div",{staticClass:"lyric-mask mask-header"}),e("div",{staticClass:"lyric-mask mask-footer"})])},Ft=[],Bt=s("6ae1"),Rt={name:"lyric",data(){return{songLyricIndex:0,scrollTime:0}},computed:{...Object(j["b"])("song",{songList:t=>t.songList,song:t=>t.song,songIsPlay:t=>t.songIsPlay,songMode:t=>t.songMode,songVolume:t=>t.songVolume,songCurrentTime:t=>t.songCurrentTime,songLyricList:t=>t.songLyricList})},watch:{songCurrentTime(t){for(let e=0;e<this.songLyricList.length;e++)t>this.songLyricList[e].time&&(this.songLyricIndex=e)},songLyricIndex(t){this.scroll(t)}},methods:{scroll(t){if(!this.$refs.lyric||!this.$refs.lyric[0])return;const e=this.$refs.lyricList,s=this.$refs.lyric[0].offsetHeight,a=s*(t+.5);Object(Bt["a"])(e.scrollTop,a,t=>{e.scrollTop=t},"Quad.ease-in-out")},onLyricScroll(){if(!this.$refs.lyric||!this.$refs.lyric[0])return;const t=this.$refs.lyricList,e=t.scrollTop,s=this.$refs.lyric[0].offsetHeight;let a=Math.round(e/s);a>0&&(a-=1),this.songLyricList&&(this.scrollTime=this.songLyricList[a].time)},changeProgress(){this.$store.commit("song/setSongTargetTime",this.scrollTime)}}},Jt=Rt,Ht=(s("0bed"),Object(h["a"])(Jt,Et,Ft,!1,null,"47c6783d",null)),Qt=Ht.exports,Kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-wrap"},[e("p",{staticClass:"comment-title"},[t._v(" "+t._s(t.title)+" "),e("span",{staticClass:"comment-number"},[t._v("("+t._s(t.commentsTotal)+")")])]),e("div",{staticClass:"comments-wrap"},t._l(t.comments,(function(s,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"icon-wrap"},[e("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"content"},[e("span",{staticClass:"name"},[t._v(t._s(s.user.nickname))]),e("span",{staticClass:"comment"},[t._v(": "+t._s(s.content))])]),s.beReplied.length?e("div",{staticClass:"re-content"},[e("span",{staticClass:"name"},[t._v("@"+t._s(s.beReplied[0].user.nickname))]),e("span",{staticClass:"comment"},[t._v(": "+t._s(s.beReplied[0].content))])]):t._e(),e("div",{staticClass:"date"},[t._v(t._s(t._f("timestamp")(s.time)))])])])})),0)])},Gt=[],Wt={props:{title:{type:String,default:"最新评论"},commentsTotal:{type:Number,default:0},comments:{type:Array,default:()=>[{user:{avatarUrl:"",nickname:"",content:""},beReplied:[{user:{nickname:"",content:""}}],time:Date.now()}]}}},Xt=Wt,Yt=Object(h["a"])(Xt,Kt,Gt,!1,null,"5da91f1e",null),Zt=Yt.exports,te={name:"songDrawer",components:{SongDisc:qt,SongLyricScroll:Qt,Comments:Zt},data(){return{commentsTotal:0,comments:[],limit:10,page:1}},computed:{...Object(j["b"])("song",{song:t=>t.song}),...Object(j["b"])("ui",{songListVisible:t=>t.songListVisible})},watch:{"song.musicId"(){this.getCommentByMusic()}},created(){this.getCommentByMusic()},methods:{getCommentByMusic(){let t={id:this.song.musicId,limit:this.limit,offset:this.limit*(this.page-1)};this.$http.getCommentByMusic(t).then(t=>{this.comments=t.data.comments,this.commentsTotal=t.data.total})}}},ee=te,se=(s("fb60"),Object(h["a"])(ee,It,Dt,!1,null,"dca6b8c2",null)),ae=se.exports,ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lyric-warpper"},[e("VueDragResize",{attrs:{parent:!1,draggable:!0,resizable:!0,x:0,y:0,z:999,w:800,h:100,"min-width":400,"min-height":80}},[e("div",{staticClass:"lyric text-over-elli",class:{disable:0===t.songLyricList.length}},[t._v(" "+t._s(t.songLyricList[t.index]&&t.songLyricList[t.index].word||"......")+" ")])])],1)},ne=[],oe=s("59af"),le=s.n(oe),re={name:"lyric",components:{VueDragResize:le.a},data(){return{index:0}},computed:{...Object(j["b"])("song",{songCurrentTime:t=>t.songCurrentTime,songLyricList:t=>t.songLyricList})},watch:{songCurrentTime(t){for(let e=0;e<this.songLyricList.length;e++)t>this.songLyricList[e].time&&(this.index=e)}}},ce=re,ue=(s("5cc8"),Object(h["a"])(ce,ie,ne,!1,null,"6ddfe2b2",null)),ge=ue.exports,me=function(){var t=this,e=t._self._c;return e("div",{staticClass:"song-playlist"},[e("div",{staticClass:"song-playlist-header"},[e("div",{staticClass:"total"},[t._v("总"+t._s(t.songList.length)+"首")]),e("div",{staticClass:"clear",on:{click:t.clearPlayList}},[t._v("清空全部")])]),e("ul",{staticClass:"song-playlist-body"},t._l(t.songList,(function(s,a){return e("li",{key:s.id,staticClass:"song-item text-over-elli",class:{active:a==t.songIndex},on:{dblclick:function(e){return t.getMusic(s,a)}}},[a==t.songIndex?e("div",{staticClass:"song-item-progress",style:{width:t.songCurrentPercent+"%"}}):t._e(),e("span",{staticClass:"name text-over-elli"},[t._v(t._s(s.name))]),t._l(s.author,(function(s,a){return e("span",{key:a,staticClass:"author"},[t._v(t._s(s.name)+".")])})),e("span",{staticClass:"album text-over-elli"},[t._v(t._s(s.albumName))]),e("a",{staticClass:"iconfont play-button",class:a==t.songIndex?"icon-pause-mobile":"icon-play-mobile",attrs:{href:"javascript:;"},on:{click:function(e){return t.getMusic(s,a)}}})],2)})),0)])},de=[],pe={name:"playList",computed:{...Object(j["b"])("song",{songList:t=>t.songList,songIndex:t=>t.songIndex,songIsPlay:t=>t.songIsPlay,songCurrentPercent:t=>t.songCurrentPercent})},methods:{getMusic(t,e){if(e==this.songIndex&&this.songIsPlay)return this.$store.commit("song/setSongIsPlay",!1),!1;this.$store.dispatch("song/getMusic",t)},close(){this.$store.commit("ui/setSongListVisible",!1)},clearPlayList(){this.$store.commit("song/setSongIndex",-1),this.$store.commit("song/setSongIndexActive"),this.$store.commit("song/setSongCurrentTime",0),this.$store.commit("song/setSongList",[]),this.$store.commit("song/setSong",{}),setTimeout(()=>{this.$store.commit("song/setSongTotalTime",0)})}}},he=pe,ve=(s("3f4b"),Object(h["a"])(he,me,de,!1,null,"5b8fbab6",null)),be=ve.exports,fe={name:"AppFooter",components:{SongAudio:Ct,SongAudioLeft:xt,SongAudioRight:At,SongDrawer:ae,SongLyricFloat:ge,SongPlayList:be},computed:{...Object(j["b"])("ui",{songDrawerVisible:t=>t.songDrawerVisible,songLyricVisible:t=>t.songLyricVisible,songListVisible:t=>t.songListVisible})}},ye=fe,Ce=Object(h["a"])(ye,D,O,!1,null,null,null),_e=Ce.exports,Le={name:"App",components:{AppHeader:_,AppBody:I,AppFooter:_e}},we=Le,Se=Object(h["a"])(we,i,n,!1,null,null,null),ke=Se.exports,xe=s("8c4f"),Te=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-main-view music-container"},[e("el-tabs",{staticClass:"app-main-nav",on:{"tab-click":t.switchTab},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("el-tab-pane",{attrs:{name:"recommend"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("个性推荐")])]),e("el-tab-pane",{attrs:{name:"songlists"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("精品歌单")])]),e("el-tab-pane",{attrs:{name:"ranklists"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("排行榜")])]),e("el-tab-pane",{attrs:{name:"newsongs"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("最新音乐")])])],1),e("div",{staticClass:"app-main-page"},[e("router-view")],1)],1)},Me=[],Ve={name:"music",components:{},data(){return{tab:"recommend"}},watch:{"$route.name":{handler(t){this.tab=t}}},beforeRouteEnter(t,e,s){s(e=>{e.tab=t.name})},methods:{switchTab(){this.goto(this.tab)},goto(t){this.$route.name!=t&&this.$router.replace({name:t})}}},$e=Ve,Pe=Object(h["a"])($e,Te,Me,!1,null,null,null),Ae=Pe.exports,Ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"music-recommend"},[e("div",{staticClass:"recommend-news"},[e("h3",{staticClass:"title"},[t._v("最新音乐")]),e("div",{staticClass:"news-list"},t._l(t.songs,(function(s,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"img-wrap"},[e("img",{staticClass:"img-image",attrs:{src:s.picUrl,alt:""}}),e("span",{staticClass:"img-icon iconfont icon-play ft_16",on:{click:function(e){return t.getMusic(s)}}})]),e("div",{staticClass:"song-wrap"},[e("div",{staticClass:"song-name"},[t._v(t._s(s.name))]),e("div",{staticClass:"singer"},[t._v(t._s(s.song.artists[0].name||""))])])])})),0)]),e("div",{staticClass:"recommend recommend-songlist"},[e("h3",{staticClass:"title"},[t._v("推荐歌单")]),e("div",{staticClass:"items"},t._l(t.list,(function(s,a){return e("CallToAction",{key:a,staticClass:"item",attrs:{src:s.picUrl,count:s.playCount,title:s.name},nativeOn:{click:function(e){return t.toDetailSongSheet(s)}}})})),1)])])},De=[];const Oe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAAFUlEQVQokWN89+4dA27AhEduBEsDAGiHAt6NiM2CAAAAAElFTkSuQmCC";var je=function(){var t=this,e=t._self._c;return e("div",{staticClass:"call-to-action"},[e("div",{staticClass:"img-wrap"},[t.count?e("div",{staticClass:"num-wrap"},[e("i",{staticClass:"num-icon ri-headphone-line"}),e("span",{staticClass:"num-text"},[t._v(t._s(t._f("numbertocount")(t.count)))])]):t._e(),e("img",{ref:"img",staticClass:"img-image",attrs:{src:t.src,alt:""}}),e("span",{staticClass:"img-icon iconfont icon-play"})]),t.title?e("div",{staticClass:"title-wrap"},[t._v(" "+t._s(t.title)+" ")]):t._e()])},Ue=[],ze={name:"CallToAction",props:{count:{type:Number,default:0},src:{type:String,default:Oe},title:{type:String,default:""},aspect:{type:Number,default:1.66}},mounted(){this.$refs.img.style.setProperty("--aspect",this.aspect+"")}},Ne=ze,qe=(s("0d0e"),Object(h["a"])(Ne,je,Ue,!1,null,null,null)),Ee=qe.exports,Fe={name:"recommend",components:{CallToAction:Ee},data(){return{list:new Array(12).fill({name:"",picUrl:Oe}),contents:[],songs:new Array(14).fill({name:"",picUrl:Oe,song:{artists:[""]}}),mvs:[]}},created(){this.getData()},methods:{getData(){this.getNewSong(),this.getPersonalized()},getNewSong(){let t={limit:12};this.$http.getNewSong(t).then(t=>{this.songs=t.data.result})},getPersonalized(){let t={limit:14};this.$http.getPersonalized(t).then(t=>{this.list=t.data.result})},toDetailSongSheet(t){if(!t.id)return!1;this.$router.push({name:"detailSongSheet",query:{id:t.id}})},getMusic(t){if(!t.id)return!1;this.$store.dispatch("song/getMusic",t)}}},Be=Fe,Re=Object(h["a"])(Be,Ie,De,!1,null,null,null),Je=Re.exports,He=function(){var t=this,e=t._self._c;return e("div",{staticClass:"songs-container"},[e("div",{staticClass:"filter-wrap"},[e("div",{staticClass:"seciton-wrap"},[e("span",{staticClass:"section-type"},[t._v("类型:")]),e("ul",{staticClass:"tabs-wrap"},t._l(t.tagList,(function(s,a){return e("li",{key:a,staticClass:"item tab"},[e("span",{staticClass:"title",class:{active:t.tag==s.tag},on:{click:function(e){t.tag=s.tag}}},[t._v(t._s(s.label))])])})),0)])]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{lazy:!0,data:t.list},on:{"row-click":t.getMusic}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"50px"}}),e("el-table-column",{attrs:{prop:"name",label:"标题"}}),e("el-table-column",{attrs:{label:"歌手"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.album.artists[0].name))])]}}])}),e("el-table-column",{attrs:{label:"专辑"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.album.name))])]}}])}),e("el-table-column",{attrs:{label:"时长"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(t._f("mstotime")(s.row.duration)))])]}}])})],1),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.limit},on:{"current-change":t.handleCurrentChange}})],1)},Qe=[],Ke={name:"latestMusic",data(){return{tagList:[{tag:0,label:"全部"},{tag:7,label:"华语"},{tag:96,label:"欧美"},{tag:8,label:"日本"},{tag:16,label:"韩国"}],tag:"0",list:[],lists:new Array(100).fill({name:"",duration:0,album:{name:"",artists:[{name:""}]}}),total:100,page:1,limit:10,loading:!0}},watch:{tag(){this.getTopSong()},page(t){const e=this.limit;this.list=this.lists.slice((t-1)*e,t*e)}},created(){this.getTopSong();const t=this.limit,e=this.page;this.list=this.lists.slice((e-1)*t,e*t)},methods:{getTopSong(){let t={type:this.tag};this.loading=!0,this.$http.getTopSong(t).then(t=>{this.lists=t.data.data;const e=this.limit;this.list=this.lists.slice((this.page-1)*e,this.page*e),this.loading=!1})},getMusic(t){if(!t.id)return!1;this.$store.dispatch("song/getMusic",t)},handleCurrentChange(t){this.page=t}}},Ge=Ke,We=Object(h["a"])(Ge,He,Qe,!1,null,null,null),Xe=We.exports,Ye=function(){var t=this,e=t._self._c;return e("div",{staticClass:"songlist-container"},[e("div",{staticClass:"top-card"},[e("div",{staticClass:"icon-wrap"},[e("img",{attrs:{src:t.topList.coverImgUrl,alt:""}})]),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"tag",on:{click:function(e){return t.toSongSheetDetail(t.topList)}}},[t._v("精品歌单")]),e("div",{staticClass:"title"},[t._v(t._s(t.topList.name))])]),e("img",{staticClass:"bg",attrs:{src:t.topList.coverImgUrl,alt:""}}),e("div",{staticClass:"bg-mask"})]),e("div",{staticClass:"tab-container"},[e("div",{staticClass:"tab-bar"},t._l(t.tagList,(function(s,a){return e("span",{key:a,staticClass:"item",class:{active:t.tag==s},on:{click:function(e){t.tag=s}}},[t._v(t._s(s))])})),0),e("div",{staticClass:"tab-content"},[e("div",{staticClass:"items"},t._l(t.list,(function(s,a){return e("CallToAction",{key:a,staticClass:"item",attrs:{src:s.coverImgUrl,count:s.playCount,title:s.name},nativeOn:{click:function(e){return t.toDetailSongSheet(s)}}})})),1)])]),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.limit},on:{"current-change":t.handleCurrentChange}})],1)},Ze=[],ts={name:"songSheet",components:{CallToAction:Ee},data(){return{tagList:["全部","欧美","华语","流行","说唱","摇滚","民谣","电子","轻音乐","影视原声","ACG","怀旧","治愈","旅行"],tag:"全部",total:0,limit:20,page:1,topList:{name:"",coverImgUrl:Oe},list:new Array(20).fill({name:"",coverImgUrl:Oe,playCount:999999})}},watch:{tag(){this.getTopPlayListDetail(),this.getTopPlayList(),this.page=1}},created(){this.getTopPlayListDetail(),this.getTopPlayList()},methods:{getTopPlayListDetail(){let t={limit:1,cat:this.tag};this.$http.getTopPlayListDetail(t).then(t=>{this.topList=t.data.playlists[0]})},getTopPlayList(){let t={limit:this.limit,offset:(this.page-1)*this.limit,cat:this.tag};this.$http.getTopPlayList(t).then(t=>{this.total=t.data.total,this.list=t.data.playlists})},toDetailSongSheet(t){t.id&&this.$router.push({name:"detailSongSheet",query:{id:t.id}})},handleCurrentChange(t){this.page=t,this.getTopPlayList()}}},es=ts,ss=Object(h["a"])(es,Ye,Ze,!1,null,null,null),as=ss.exports,is=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rank-list"},[e("div",{staticClass:"items"},t._l(t.list,(function(s,a){return e("CallToAction",{key:a,staticClass:"item",attrs:{src:s.coverImgUrl,count:s.playCount},nativeOn:{click:function(e){return t.toDetailSongSheet(s)}}})})),1)])},ns=[],os={name:"rankList",components:{CallToAction:Ee},data(){return{list:new Array(20).fill({name:"",playCount:999999,coverImgUrl:Oe})}},created(){this.getTopList()},methods:{getTopList(){this.$http.getTopList().then(t=>{this.list=t.data.list})},toDetailSongSheet(t){t.id&&this.$router.push({name:"detailSongSheet",query:{id:t.id}})}}},ls=os,rs=Object(h["a"])(ls,is,ns,!1,null,null,null),cs=rs.exports,us=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-main-view"},[e("el-tabs",{staticClass:"app-main-nav",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("el-tab-pane",{attrs:{name:"singer"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("发现歌手")])])],1),e("div",{staticClass:"app-main-page search-container"},[e("div",{staticClass:"singer-container"},[e("div",{staticClass:"filter-wrap"},[e("div",{staticClass:"seciton-wrap"},[e("ul",{staticClass:"tabs-wrap"},[e("span",[t._v("语种:")]),t._l(t.areaList,(function(s,a){return e("li",{key:a,staticClass:"tab"},[e("span",{staticClass:"title",class:{active:t.area==s.value},on:{click:function(e){t.area=s.value}}},[t._v(t._s(s.label))])])}))],2)]),e("div",{staticClass:"type-wrap"},[e("ul",{staticClass:"tabs-wrap"},[e("span",[t._v("分类:")]),t._l(t.typeList,(function(s,a){return e("li",{key:a,staticClass:"tab"},[e("span",{staticClass:"title",class:{active:t.type==s.value},on:{click:function(e){t.type=s.value}}},[t._v(t._s(s.label))])])}))],2)]),e("div",{staticClass:"init-wrap"},[e("ul",{staticClass:"tabs-wrap"},[e("span",{staticClass:"init-type"},[t._v("筛选:")]),t._l(t.initialList,(function(s,a){return e("li",{key:a,staticClass:"tab"},[e("span",{staticClass:"title",class:{active:t.initial==s.value},on:{click:function(e){t.initial=s.value}}},[t._v(t._s(s.label))])])}))],2)])]),e("div",{staticClass:"singers"},[e("div",{staticClass:"items"},t._l(t.list,(function(s,a){return e("CallToAction",{key:a,staticClass:"item",attrs:{src:s.img1v1Url,title:s.name},nativeOn:{click:function(e){return t.toDetailSinger(s)}}})})),1),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":5,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1)])])],1)},gs=[],ms={name:"singer",components:{CallToAction:Ee},data(){return{tab:"singer",areaList:[{value:-1,label:"全部"},{value:7,label:"华语"},{value:96,label:"欧美"},{value:8,label:"日本"},{value:16,label:"韩国"},{value:0,label:"其他"}],typeList:[{value:-1,label:"全部"},{value:1,label:"男歌手"},{value:2,label:"女歌手"},{value:3,label:"乐队"}],initialList:[{value:-1,label:"全部"},{value:"a",label:"A"},{value:"b",label:"B"},{value:"c",label:"C"},{value:"d",label:"D"},{value:"e",label:"E"},{value:"f",label:"F"},{value:"g",label:"G"},{value:"h",label:"H"},{value:"i",label:"I"},{value:"j",label:"J"},{value:"k",label:"K"},{value:"l",label:"L"},{value:"m",label:"M"},{value:"n",label:"N"},{value:"o",label:"O"},{value:"p",label:"P"},{value:"q",label:"Q"},{value:"r",label:"R"},{value:"s",label:"S"},{value:"t",label:"T"},{value:"u",label:"U"},{value:"v",label:"V"},{value:"w",label:"W"},{value:"x",label:"X"},{value:"y",label:"Y"},{value:"z",label:"Z"},{value:0,label:"#"}],area:-1,type:-1,initial:-1,total:100,page:1,limit:20,list:new Array(20).fill({name:"",img1v1Url:Oe})}},watch:{area(){this.handleTagChange()},type(){this.handleTagChange()},initial(){this.handleTagChange()}},created(){this.getData()},methods:{getData(){let t={area:this.area,type:this.type,initial:this.initial,limit:this.limit,offset:(this.page-1)*this.limit};this.$http.getArtistList(t).then(t=>{this.list=t.data.artists})},handleCurrentChange(t){this.page=t,this.getData()},handleTagChange(){this.page=1,this.getData()},toDetailSinger(t){if(!t.id)return!1;this.$router.push({name:"detailSinger",query:{id:t.id}})}}},ds=ms,ps=Object(h["a"])(ds,us,gs,!1,null,null,null),hs=ps.exports,vs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-main-view video-container"},[e("el-tabs",{staticClass:"app-main-nav",on:{"tab-click":t.switchTab},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("el-tab-pane",{attrs:{name:"newMV"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("最新MV")])]),e("el-tab-pane",{attrs:{name:"allMV"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("所有MV")])])],1),e("div",{staticClass:"app-main-page"},[e("router-view")],1)],1)},bs=[],fs={name:"videoVue",components:{},data(){return{tab:"newMV"}},watch:{"$route.name":{handler(t){this.tab=t}}},beforeRouteEnter(t,e,s){s(e=>{e.tab=t.name})},methods:{switchTab(){this.goto(this.tab)},goto(t){this.$route.name!=t&&this.$router.replace({name:t})}}},ys=fs,Cs=(s("fcb1"),Object(h["a"])(ys,vs,bs,!1,null,"7c055eca",null)),_s=Cs.exports,Ls=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-container"},[e("div",{staticClass:"filter-wrap"},[e("div",{staticClass:"seciton-wrap"},[e("span",{staticClass:"section-type"},[t._v("地区:")]),e("ul",{staticClass:"tabs-wrap"},t._l(t.areaList,(function(s,a){return e("li",{key:a,staticClass:"tab"},[e("span",{staticClass:"title",class:{active:t.area==s},on:{click:function(e){t.area=s}}},[t._v(t._s(s||"全部"))])])})),0)])]),e("div",{staticClass:"mvs"},[e("div",{staticClass:"items"},t._l(t.list,(function(s,a){return e("CallToAction",{key:a,staticClass:"item aspect-16-9",attrs:{src:s.cover,count:s.playCount,title:s.artistName+s.name&&`《${s.name.trim()}》`},nativeOn:{click:function(e){return t.toDetailMV(s)}}})})),1),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":5,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1)])},ws=[],Ss={name:"latestMV",components:{CallToAction:Ee},data(){return{areaList:["","内地","港台","欧美","日本","韩国"],total:100,page:1,limit:8,area:"",list:new Array(8).fill({name:"",cover:Oe,playCount:99999,artistName:""})}},watch:{area(){this.handleTagChange()}},created(){this.getData()},methods:{getData(){let t={area:this.area,limit:this.limit};this.$http.getMVFirst(t).then(t=>{this.list=t.data.data,t.data.count&&(this.total=t.data.count)})},handleCurrentChange(t){this.page=t,this.getData()},handleTagChange(){this.page=1,this.getData()},toDetailMV(t){this.$router.push({name:"detailMV",query:{mvid:t.id}})}}},ks=Ss,xs=Object(h["a"])(ks,Ls,ws,!1,null,null,null),Ts=xs.exports,Ms=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mv-container"},[e("div",{staticClass:"filter-wrap"},[e("div",{staticClass:"seciton-wrap"},[e("span",{staticClass:"section-type"},[t._v("地区:")]),e("ul",{staticClass:"tabs-wrap"},t._l(t.areaList,(function(s,a){return e("li",{key:a,staticClass:"tab"},[e("span",{staticClass:"title",class:{active:t.area==s},on:{click:function(e){t.area=s}}},[t._v(t._s(s))])])})),0)]),e("div",{staticClass:"type-wrap"},[e("span",{staticClass:"type-type"},[t._v("类型:")]),e("ul",{staticClass:"tabs-wrap"},t._l(t.typeList,(function(s,a){return e("li",{key:a,staticClass:"tab"},[e("span",{staticClass:"title",class:{active:t.type==s},on:{click:function(e){t.type=s}}},[t._v(t._s(s))])])})),0)]),e("div",{staticClass:"order-wrap"},[e("span",{staticClass:"order-type"},[t._v("排序:")]),e("ul",{staticClass:"tabs-wrap"},t._l(t.orderList,(function(s,a){return e("li",{key:a,staticClass:"tab"},[e("span",{staticClass:"title",class:{active:t.order==s},on:{click:function(e){t.order=s}}},[t._v(t._s(s))])])})),0)])]),e("div",{staticClass:"mvs"},[e("div",{staticClass:"items"},t._l(t.list,(function(s,a){return e("CallToAction",{key:a,staticClass:"item aspect-16-9",attrs:{src:s.cover,count:s.playCount,title:s.name&&s.artistName+`《${s.name.trim()}》`},nativeOn:{click:function(e){return t.toDetailMV(s)}}})})),1),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":5,limit:t.limit},on:{"current-change":t.handleCurrentChange}})],1)])},Vs=[],$s={name:"allMV",components:{CallToAction:Ee},data(){return{areaList:["全部","内地","港台","欧美","日本","韩国"],typeList:["全部","官方版","原生","现场版","网易出品"],orderList:["上升最快","最热","最新"],total:100,page:1,limit:8,area:"全部",type:"全部",order:"上升最快",list:new Array(8).fill({name:"",cover:Oe,playCount:99999,artistName:""})}},watch:{area(){this.handleTagChange()},type(){this.handleTagChange()},order(){this.handleTagChange()}},created(){this.getData()},methods:{getData(){let t={area:this.area,type:this.type,order:this.order,limit:this.limit,offset:(this.page-1)*this.limit};this.$http.getMVAll(t).then(t=>{this.list=t.data.data,t.data.count&&(this.total=t.data.count)})},handleCurrentChange(t){this.page=t,this.getData()},handleTagChange(){this.page=1,this.getData()},toDetailMV(t){if(!t.id)return!1;this.$router.push({name:"detailMV",query:{mvid:t.id}})}}},Ps=$s,As=Object(h["a"])(Ps,Ms,Vs,!1,null,null,null),Is=As.exports,Ds=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-main-view"},[e("div",{staticClass:"app-main-page search-container"},[e("div",{staticClass:"search-header display-flex"},[e("div",{staticClass:"search-title-box"},[e("h2",{staticClass:"search-title-keywords"},[t._v(t._s(t.keywords))]),e("span",{staticClass:"search-title-count"},[t._v("找到 "+t._s(t.count)+" 个结果")])]),"songs"==t.activeIndex?e("div",{staticClass:"play-wrap",on:{click:t.addToSongList}},[e("span",{staticClass:"iconfont icon-play"}),e("span",{staticClass:"text"},[t._v("播放全部")])]):t._e()]),e("el-tabs",{model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[e("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{lazy:!0,data:t.songList},on:{"row-dblclick":t.getMusic}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"50px"}}),e("el-table-column",{attrs:{prop:"name",label:"音乐标题","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.name))])]}}])}),e("el-table-column",{attrs:{prop:"artists[0].name",label:"歌手"}}),e("el-table-column",{attrs:{prop:"album.name",label:"专辑",width:"250px","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"duration",label:"时长",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(t._f("mstotime")(s.row.duration)))])]}}])})],1)],1),e("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[e("div",{staticClass:"items"},t._l(t.playList,(function(s,a){return e("CallToAction",{key:a,staticClass:"item",attrs:{src:s.coverImgUrl,count:s.playCount,title:s.name},nativeOn:{click:function(e){return t.toDetailSongSheet(s)}}})})),1)]),e("el-tab-pane",{attrs:{label:"MV",name:"mvs"}},[e("div",{staticClass:"items mv"},t._l(t.mvList,(function(s,a){return e("CallToAction",{key:a,staticClass:"item aspect-16-9",attrs:{src:s.cover,count:s.playCount,title:s.artistName+s.name&&`《${s.name.trim()}》`},nativeOn:{click:function(e){return t.toDetailMV(s)}}})})),1)])],1),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next, sizes",total:t.total,"current-page":t.page,"page-size":t.limit,"page-sizes":[10,20,30]},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)])},Os=[],js={name:"search",components:{CallToAction:Ee},data(){return{count:999,total:999,page:1,limit:10,activeIndex:"songs",keywords:"",type:1,songList:new Array(20).fill({name:"",album:{name:""},artists:[{name:""}],duration:0}),playList:new Array(20).fill({name:"",coverImgUrl:Oe,playCount:999999}),mvList:new Array(8).fill({name:"",cover:Oe,playCount:99999,artistName:""}),loading:!0}},watch:{"$store.state.query":{handler(t){this.search()}},activeIndex:{handler(t){switch(t){case"songs":this.type=1;break;case"lists":this.type=1e3;break;case"mvs":this.type=1004;break;default:break}this.search()}}},created(){this.search()},methods:{search(){this.keywords=this.$route.query.keywords,this.loading=!0;let t=this.type;if(this.keywords){let e={keywords:this.keywords,type:t,limit:this.limit,offset:this.limit*(this.page-1)};this.$http.getSearch(e).then(e=>{switch(t){case 1:this.songList=e.data.result.songs,this.count=e.data.result.songCount;break;case 1e3:this.playList=e.data.result.playlists,this.count=e.data.result.playlistCount;break;case 1004:this.mvList=e.data.result.mvs,this.count=e.data.result.mvCount;break;default:break}this.total=this.count,this.loading=!1})}},handleCurrentChange(t){this.page=t,this.search()},handleSizeChange(t){this.limit=t,this.search()},addToSongList(){this.$store.commit("song/addListToSongList",this.songList)},getMusic(t){if(!t.id)return!1;this.$store.dispatch("song/getMusic",t)},toDetailSongSheet(t){t.id&&this.$router.push({name:"detailSongSheet",query:{id:t.id}})},toDetailMV(t){this.$router.push({name:"detailMV",query:{mvid:t.id}})}}},Us=js,zs=Object(h["a"])(Us,Ds,Os,!1,null,null,null),Ns=zs.exports,qs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-main-view"},[e("div",{staticClass:"app-main-detail"},[e("router-view")],1)])},Es=[],Fs={name:"detail"},Bs=Fs,Rs=Object(h["a"])(Bs,qs,Es,!1,null,null,null),Js=Rs.exports,Hs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-container video-detail-container"},[e("div",{staticClass:"mv-wrap"},[e("h3",{staticClass:"title"},[t._v("MV详情")]),e("div",{staticClass:"video-wrap"},[e("video",{attrs:{controls:"",src:t.mvUrl}})]),e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"singer-info"},[e("div",{staticClass:"avatar-wrap"},[e("img",{attrs:{src:t.detail.cover,alt:""}})]),e("span",{staticClass:"name"},[t._v(t._s(t.detail.artistName))])]),e("div",{staticClass:"mv-info"},[e("h2",{staticClass:"title"},[t._v(t._s(t.detail.name))]),e("span",{staticClass:"date"},[t._v("发布: "+t._s(t.detail.publishTime))]),e("span",{staticClass:"number"},[t._v("播放: "+t._s(t._f("numbertocount")(t.detail.playCount))+"次")]),e("p",{staticClass:"desc"},[t._v(t._s(t.detail.desc))]),e("div",t._l(t.detail.videoGroup,(function(s,a){return e("span",{key:a},[t._v(t._s(s.name))])})),0)])]),e("Comments",{attrs:{title:"最新评论",commentsTotal:t.total,comments:t.comments}}),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"current-page":t.page,"page-size":t.limit},on:{"current-change":t.handleCurrentChange}})],1),e("div",{staticClass:"mv-recommend"},[e("h3",{staticClass:"title"},[t._v("相关推荐")]),e("div",{staticClass:"mvs"},[e("div",{staticClass:"items"},t._l(t.simiMV,(function(s,a){return e("CallToAction",{key:a,staticClass:"item aspect-16-9",attrs:{src:s.cover,count:s.playCount,title:s.artistName+s.name&&`《${s.name.trim()}》`},nativeOn:{click:function(e){return t.toDetailMV(s)}}})})),1)])])])},Qs=[],Ks={name:"mv",components:{CallToAction:Ee,Comments:Zt},data(){return{total:20,page:1,limit:20,detail:{},mvUrl:"",simiMV:new Array(8).fill({name:"",cover:Oe,playCount:99999,artistName:""}),comments:[]}},created(){this.getData()},methods:{getData(){this.getMVDetail(),this.getMVUrl(),this.getSimiMV(),this.getCommentMV()},getMVDetail(){let t={mvid:this.$route.query.mvid};this.$http.getMVDetail(t).then(t=>{this.detail=t.data.data})},getMVUrl(){let t={id:this.$route.query.mvid};this.$http.getMVUrl(t).then(t=>{this.mvUrl=t.data.data.url})},getSimiMV(){let t={mvid:this.$route.query.mvid};this.$http.getSimiMV(t).then(t=>{this.simiMV=t.data.mvs})},getCommentMV(){let t={id:this.$route.query.mvid,limit:this.limit};this.$http.getCommentMV(t).then(t=>{this.comments=t.data.comments,this.total=t.data.total})},toDetailMV(t){this.$route.query.mvid=t.id,this.getData()},handleCurrentChange(t){this.page=t}}},Gs=Ks,Ws=Object(h["a"])(Gs,Hs,Qs,!1,null,null,null),Xs=Ws.exports,Ys=function(){var t=this,e=t._self._c;return e("div",{staticClass:"songlist-container"},[e("div",{staticClass:"top-wrap"},[e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}})]),e("div",{staticClass:"info-wrap"},[e("p",{staticClass:"title"},[e("span",{staticClass:"title-label"},[t._v("歌单")]),e("span",{staticClass:"title-text"},[t._v(t._s(t.playlist.name))])]),e("div",{staticClass:"author-wrap"},[e("img",{staticClass:"author-avatar",attrs:{src:t.playlist.creator.avatarUrl,alt:""}}),e("span",{staticClass:"name"},[t._v(t._s(t.playlist.creator.nickname))]),e("span",{staticClass:"time"},[t._v(t._s(t.createTime)+" 创建")])]),e("div",{staticClass:"play-wrap",on:{click:t.addToSongList}},[e("span",{staticClass:"iconfont icon-play"}),e("span",{staticClass:"text"},[t._v("播放全部")])]),e("div",{staticClass:"tag-wrap"},[e("span",{staticClass:"title"},[t._v("标签:")]),e("ul",t._l(t.playlist.tags,(function(s,a){return e("li",{key:a},[t._v(" "+t._s(s)+" ")])})),0)]),e("div",{staticClass:"desc-wrap"},[e("span",{staticClass:"title"},[t._v("简介:")]),e("span",{staticClass:"desc"},[t._v(t._s(t.playlist.description))])])])]),e("el-tabs",{model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[e("el-tab-pane",{attrs:{label:"歌曲列表",name:"1"}},[e("el-table",{attrs:{lazy:!0,data:t.tracksShow},on:{"row-click":t.getMusic}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"50px"}}),e("el-table-column",{attrs:{label:"标题","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.name))])]}}])}),e("el-table-column",{attrs:{label:"歌手"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.ar[0].name))])]}}])}),e("el-table-column",{attrs:{label:"专辑","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.al.name))])]}}])}),e("el-table-column",{attrs:{label:"时长"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(t._f("mstotime")(s.row.dt)))])]}}])})],1),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.songstotal,"current-page":t.songspage,"page-size":t.songslimit},on:{"current-change":t.handleSongsPagesChange}})],1),e("el-tab-pane",{attrs:{label:"评论("+t.commentsTotal+")",name:"2"}},[e("Comments",{attrs:{title:"最新评论",commentsTotal:t.commentsTotal,comments:t.comments}}),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.commentsTotal,"current-page":t.commentsPage,"page-size":t.commentsLimit},on:{"current-change":t.handleCommentsPagesChange}})],1)],1)],1)},Zs=[],ta={name:"playlist",components:{Comments:Zt},data(){return{activeIndex:"1",songstotal:0,songslimit:20,songspage:1,commentsTotal:0,commentsLimit:10,commentsPage:1,id:"",playlist:{creator:{avatarUrl:Oe},coverImgUrl:Oe,createTime:"000"},tracks:new Array(20).fill({name:"",ar:[{name:""}],al:{name:""},dt:0}),comments:[]}},computed:{tracksShow(){return this.tracks.slice((this.songspage-1)*this.songslimit,this.songspage*this.songslimit)},createTime(){return new Date(this.playlist.createTime).toISOString().slice(0,10)}},created(){this.getPlayListDetail(),this.getCommentPlayList()},methods:{getPlayListDetail(){let t={id:this.$route.query.id};this.$http.getPlayListDetail(t).then(t=>{this.playlist=t.data.playlist,this.tracks=this.playlist.tracks,this.songstotal=this.tracks.length})},getCommentPlayList(){let t={id:this.$route.query.id,type:0,limit:this.commentsLimit,offset:(this.commentsPage-1)*this.commentsLimit};this.$http.getCommentPlayList(t).then(t=>{this.comments=t.data.comments,this.commentsTotal=t.data.total})},handleSongsPagesChange(t){this.songspage=t,this.getPlayListDetail()},handleCommentsPagesChange(t){this.commentsPage=t,this.getCommentPlayList()},addToSongList(){this.$store.commit("song/addListToSongList",this.tracks)},getMusic(t){if(!t.id)return!1;this.$store.dispatch("song/getMusic",t)}}},ea=ta,sa=Object(h["a"])(ea,Ys,Zs,!1,null,null,null),aa=sa.exports,ia=function(){var t=this,e=t._self._c;return e("div",{staticClass:"songlist-container"},[e("div",{staticClass:"top-wrap"},[e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:t.artist.cover,alt:""}})]),e("div",{staticClass:"info-wrap"},[e("p",{staticClass:"title"},[e("span",{staticClass:"title-text"},[t._v(t._s(t.artist.name))])]),e("div",{staticClass:"prod-wrap"},[e("span",{staticClass:"prod-size music-size"},[t._v("单曲数: "+t._s(t.artist.musicSize))]),e("span",{staticClass:"prod-size album-size"},[t._v("专辑数: "+t._s(t.artist.albumSize))]),e("span",{staticClass:"prod-size mv-size"},[t._v("MV数: "+t._s(t.artist.mvSize))])]),e("div",{staticClass:"desc-wrap"},[e("span",{staticClass:"desc text-over-elli-6"},[t._v("简介: "+t._s(t.artist.briefDesc))])])])]),e("el-tabs",{on:{"tab-click":t.onTabClick},model:{value:t.activeIndex,callback:function(e){t.activeIndex=e},expression:"activeIndex"}},[e("el-tab-pane",{attrs:{label:"专辑",name:"1"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{lazy:!0,data:t.songs},on:{"row-click":t.getMusic}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"50px"}}),e("el-table-column",{attrs:{label:"标题","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(s.row.name))])]}}])}),e("el-table-column",{attrs:{label:"时长"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("span",[t._v(t._s(t._f("mstotime")(s.row.dt)))])]}}])})],1)],1),e("el-tab-pane",{attrs:{label:"MV",name:"2"}},[e("div",{staticClass:"video-container"},[e("div",{staticClass:"mv-container"},[e("div",{staticClass:"mvs"},[e("div",{staticClass:"items"},t._l(t.mvs,(function(s,a){return e("CallToAction",{key:a,staticClass:"item aspect-16-9",attrs:{src:s.imgurl16v9,count:s.playCount,title:s.artistName+s.name&&`《${s.name.trim()}》`},nativeOn:{click:function(e){return t.toDetailMV(s)}}})})),1)])])])])],1)],1)},na=[],oa={name:"playlist",components:{CallToAction:Ee},data(){return{activeIndex:"1",artist:{cover:Oe},loading:!1,songs:new Array(50).fill({name:"",dt:0}),mvs:[]}},created(){this.getArtistDetail(),this.getArtistTopSong(),this.getArtistMV(),this.activeIndex=this.$route.query.tab||"1"},methods:{onTabClick(){this.$router.replace({name:this.$route.name,query:{id:this.$route.query.id,tab:this.activeIndex}})},getArtistDetail(){let t=this.$route.query.id,e={id:t};this.$http.getArtistDetail(e).then(t=>{this.artist=t.data.data.artist})},getArtistTopSong(){this.loading=!0;let t=this.$route.query.id,e={id:t};this.$http.getArtistTopSong(e).then(t=>{this.loading=!1,this.songs=t.data.songs})},getArtistMV(){let t=this.$route.query.id,e={id:t};this.$http.getArtistMV(e).then(t=>{this.mvs=t.data.mvs,console.log(this.mvs)})},toDetailMV(t){this.$router.push({name:"detailMV",query:{mvid:t.id}})},addToSongList(){this.$store.commit("song/addListToSongList",this.tracks)},getMusic(t){if(t.id)return!1;this.$store.dispatch("song/getMusic",t)}}},la=oa,ra=(s("02b0"),Object(h["a"])(la,ia,na,!1,null,"67ff9cf7",null)),ca=ra.exports;a["default"].use(xe["a"]);const ua=[{path:"*",redirect:{name:"recommend"}},{name:"music",path:"/music",component:Ae,children:[{name:"recommend",path:"recommend",component:Je,meta:{title:"发现"}},{name:"newsongs",path:"newsongs",component:Xe,meta:{title:"新歌"}},{name:"songlists",path:"songlists",component:as,meta:{title:"歌单"}},{name:"ranklists",path:"ranklists",component:cs,meta:{title:"排行"}}]},{name:"singer",path:"/singer",component:hs,meta:{title:"歌手"}},{name:"mv",path:"/mv",component:_s,children:[{name:"newMV",path:"newMV",component:Ts,meta:{title:"最新MV"}},{name:"allMV",path:"allMV",component:Is,meta:{title:"全部MV"}}]},{name:"search",path:"/search",component:Ns,meta:{title:"搜索结果|"}},{name:"detail",path:"/detail",component:Js,children:[{name:"detailMV",path:"detailMV",component:Xs,meta:{title:"MV 详情"}},{name:"detailSongSheet",path:"detailSongSheet",component:aa,meta:{title:"歌单详情"}},{name:"detailSinger",path:"detailSinger",component:ca,meta:{title:"歌手详情"}}]}],ga=new xe["a"]({mode:"hash",base:"/online-music/",routes:ua});var ma=ga,da=s("5c96"),pa=s.n(da),ha=(s("0fae"),s("e05f"),s("ab05"),s("a5d8"),s("82da"),s("b20f"),{install:t=>{t.filter("uppercase",t=>t.toUpperCase()),t.filter("lowercase",t=>t.toLowerCase()),t.filter("mstotime",t=>{let e=t,s=parseInt(e/1e3/60);s=s<10?"0"+s:s;let a=parseInt(e/1e3%60);return a=a<10?"0"+a:a,`${s}:${a}`}),t.filter("stotime",t=>{let e=t,s=parseInt(e/60);s=s<10?"0"+s:s;let a=parseInt(e%60);return a=a<10?"0"+a:a,`${s}:${a}`}),t.filter("numbertocount",t=>t>1e4?t>1e8?(t/1e8).toFixed(1)+"亿":(t/1e4).toFixed(1)+"万":t),t.filter("timestamp",t=>{let e=new Date(t).toISOString();return e.slice(0,10)+" "+e.slice(11,19)})}});a["default"].use(pa.a),a["default"].prototype.$http=it,a["default"].prototype.$tools=K,a["default"].use(ha),a["default"].config.productionTip=!1,new a["default"]({el:"#app",router:ma,store:dt,...ke,render:t=>t(ke),components:{App:ke}}).$mount("#app")},"5cc8":function(t,e,s){"use strict";s("53fd")},6743:function(t,e,s){t.exports=s.p+"static/img/player_disc.e89e0c3e.png"},6977:function(t,e,s){},"82da":function(t,e,s){},"85b1":function(t,e,s){"use strict";s("a872")},8711:function(t,e,s){},a872:function(t,e,s){},b20f:function(t,e,s){},b819:function(t,e,s){t.exports=s.p+"static/img/player_bar.3b9b552f.png"},f908:function(t,e,s){},fb60:function(t,e,s){"use strict";s("0b16")},fcb1:function(t,e,s){"use strict";s("26fc")}});